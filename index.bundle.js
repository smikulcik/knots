(()=>{"use strict";var t={523:(t,e,n)=>{n.d(e,{A:()=>s});var o=n(601),r=n.n(o),a=n(314),i=n.n(a)()(r());i.push([t.id,"",""]);const s=i},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,a){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);o&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var a={},i=[],s=0;s<t.length;s++){var c=t[s],u=o.base?c[0]+o.base:c[0],l=a[u]||0,d="".concat(u," ").concat(l);a[u]=l+1;var f=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)e[f].references++,e[f].updater(p);else{var h=r(p,o);o.byIndex=s,e.splice(s,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var a=o(t=t||[],r=r||{});return function(t){t=t||[];for(var i=0;i<a.length;i++){var s=n(a[i]);e[s].references--}for(var c=o(t,r),u=0;u<a.length;u++){var l=n(a[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},659:t=>{var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={id:o,exports:{}};return t[o](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{function t(t,e,n,o){t.beginPath(),t.arc(e.x,e.y,n,0,2*Math.PI,!1),t.fillStyle=o,t.fill()}function e(t,e,n,r,a){return o(t,[e,e,n,n],r,a)}function o(t,e,n,o){const[r,a,i,s]=e;t.beginPath(),t.moveTo(r.x,r.y),t.lineWidth=n,t.strokeStyle=o,t.bezierCurveTo(a.x,a.y,i.x,i.y,s.x,s.y),t.stroke()}class r{constructor(t,e,n,o){this.x=t,this.y=e,this.color=n,this.radius=o}draw(e){t(e,{x:this.x,y:this.y},this.radius,this.color)}}class a{constructor(t){this.canvas=t,this.objects=[],this.cursor=new r(0,0,"red",5),t.onmousemove=t=>{this.cursor.x=t.clientX,this.cursor.y=t.clientY,this.objects.forEach((e=>{"function"==typeof e.onmousemove&&e.onmousemove(t)})),this.draw()},t.onmousedown=t=>{this.objects.forEach((e=>{"function"==typeof e.onmousedown&&e.onmousedown(t)})),this.draw()},t.onmouseup=t=>{this.objects.forEach((e=>{"function"==typeof e.onmouseup&&e.onmouseup(t)})),this.draw()}}draw(){var t=this.canvas.getContext("2d");t.fillStyle="#eeeeee",t.strokeStyle="#000000",t.rect(0,0,800,600),t.fill();for(const e of this.objects)e.draw(t);this.cursor.draw(t)}addObject(t){this.objects.push(t)}}const i=[{x:250,y:230,a:{a:-10,m1:35,m2:-150,n:{i:1,x:"a"}},b:{a:260,m1:150,m2:-35,n:{i:1,x:"b"}},top:"a"},{x:360,y:230,a:{a:10,m1:150,m2:-35,n:{i:2,x:"a"}},b:{a:100,m1:35,m2:-150,n:{i:2,x:"b"}},top:"b"},{x:300,y:325,a:{a:225,m1:35,m2:-130,n:{i:0,x:"b"}},b:{a:135,m1:130,m2:-35,n:{i:0,x:"a"}},top:"a"}],s=[{x:100,y:100,a:{a:-45,m1:20,m2:-100,n:{i:1,x:"a"}},b:{a:225,m1:100,m2:-20,n:{i:2,x:"b"}},top:"a"},{x:150,y:100,a:{a:45,m1:10,m2:-20,n:{i:3,x:"a"}},b:{a:135,m1:20,m2:-20,n:{i:0,x:"b"}},top:"b"},{x:200,y:75,a:{a:175,m1:20,m2:-50,n:{i:1,x:"b"}},b:{a:80,m1:10,m2:-70,n:{i:3,x:"b"}},top:"b"},{x:200,y:125,a:{a:5,m1:60,m2:-10,n:{i:2,x:"a"}},b:{a:100,m1:70,m2:-10,n:{i:0,x:"a"}},top:"a"}];var c=n(72),u=n.n(c),l=n(825),d=n.n(l),f=n(659),p=n.n(f),h=n(56),m=n.n(h),b=n(540),x=n.n(b),y=n(113),v=n.n(y),w=n(523),g={};function P(t,e){const n=t.length,o=new Array(n*n),r=new Array(n),a=new Array(n);for(let e=0;e<n;e++)o[e]=t[e];for(let t=1;t<n;t++)for(let r=0;r<n-t;r++)o[t*n+r]={x:o[(t-1)*n+r].x*e+o[(t-1)*n+(r+1)].x*(1-e),y:o[(t-1)*n+r].y*e+o[(t-1)*n+(r+1)].y*(1-e)};for(let t=0;t<n;t++)r[t]=o[t*n+0];for(let t=n-1;t>=0;t--){const e=n-1-t;a[e]=o[t*n+e]}return[r,a]}function A(t,e,n){return{x:t.x+n*Math.cos(e*Math.PI/180),y:t.y+n*Math.sin(e*Math.PI/180)}}g.styleTagTransform=v(),g.setAttributes=m(),g.insert=p().bind(null,"head"),g.domAPI=d(),g.insertStyleElement=x(),u()(w.A,g),w.A&&w.A.locals&&w.A.locals;class M{constructor(t,e){this.knot=t,this.lineWidth=e,this.selected=!1,this.selectablePoint=void 0}onmousedown(t){void 0!==this.selectablePoint&&(this.selected=!0)}onmouseup(t){this.selected=!1}onmousemove(t){this.selected&&this.selectablePoint&&(this.knot[this.selectablePoint.i].x=this.selectablePoint.p.x,this.knot[this.selectablePoint.i].y=this.selectablePoint.p.y),this.selectablePoint=void 0;const e=[];for(const t in this.knot){const n=this.knot[t];e.push({p:A(n,n.a.a,n.a.m1),i:t,x:"a",m:"m1"}),e.push({p:A(n,n.a.a,n.a.m2),i:t,x:"a",m:"m2"}),e.push({p:A(n,n.b.a,n.b.m1),i:t,x:"b",m:"m1"}),e.push({p:A(n,n.b.a,n.b.m2),i:t,x:"b",m:"m2"})}let n;e.forEach((e=>{const o=(r=e.p,a={x:t.clientX,y:t.clientY},Math.sqrt((a.x-r.x)*(a.x-r.x)+(a.y-r.y)*(a.y-r.y)+((a.z||0)-(r.z||0))*((a.z||0)-(r.z||0))));var r,a;o<30&&(void 0===n||o<n)&&(this.selectablePoint=e,n=o)}))}draw(n){const a=this.knot;for(const t of["bottom","top"]){let e={i:0,x:"a"},r=this.lineWidth,i=8;do{const s=a[e.i],c=s[e.x].n,u=a[c.i],l=A(s,s[e.x].a,s[e.x].m1),d=A(u,u[c.x].a,u[c.x].m2),[f,p]=P([s,l,d,u],.5);(s.top!==e.x&&"bottom"===t||s.top===e.x&&"top"===t)&&(o(n,f,r,"#000000"),o(n,f,r-3,"#ffffff")),(u.top!==c.x&&"bottom"===t||u.top===c.x&&"top"===t)&&(o(n,p,r,"#000000"),o(n,p,r-3,"#ffffff")),e=a[e.i][e.x].n,i--}while((0!==e.i||"a"!==e.x)&&i>0)}for(const o of a){const r=A(o,o.a.a,o.a.m1),a=A(o,o.a.a,o.a.m2),i=A(o,o.b.a,o.b.m1),s=A(o,o.b.a,o.b.m2);e(n,o,r,1,"#008800"),t(n,r,3,"#008800"),e(n,o,a,1,"#008800"),t(n,a,3,"#008800"),e(n,o,i,1,"#008800"),t(n,i,3,"#008800"),e(n,o,s,1,"#008800"),t(n,s,3,"#008800")}this.selectablePoint&&new r(this.selectablePoint.p.x,this.selectablePoint.p.y,this.selected?"blue":"green",10).draw(n)}}document.body.appendChild(function(){const t=document.createElement("canvas");return t.setAttribute("id","content"),t.setAttribute("width","800"),t.setAttribute("height","600"),t}()),window.onload=()=>{const t=document.getElementById("content"),e=new a(t);e.addObject(new M(i,30)),e.addObject(new M(s,20)),e.draw()}})()})();